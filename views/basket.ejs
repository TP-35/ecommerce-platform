<html lang="en">

<%- include('./partials/head.ejs', {title: "Basket" , css: "/css/adminpanel.css" }) %>

    <body>
        <%- include('./partials/nav.ejs') %>
            <div class="container" style="min-height: 100vh;">

                <div class="flex-content">
                    <div class="flex-col">
                        <table class="table">
                            <!-- Sets header for table contents -->
                            <thead>
                                <tr>
                                    <th id="recent" scope="col">Basket</th>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                </tr>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Description</th>
                                    <th scope="col">Cost</th>
                                    <th scope="col">Gender</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Loops through products and populates table -->
                                <% if (products && products.length) { for (var i=0; i < products.length; i++) { %>
                                    <tr>
                                        <td>
                                            <%= products[i].product_id%>
                                        </td>
                                        <td>
                                            <%= products[i].name%>
                                        </td>
                                        <td>
                                            <%= products[i].description%>
                                        </td>
                                        <td>
                                            <%= products[i].cost%>
                                        </td>
                                        <td>
                                            <%= products[i].gender%>
                                        </td>
                                        <td>
                                            <a href=<%=`/basket/remove/${basket.basket[i].basket_id}`%>>
                                                <button id="button">X</button>
                                            </a>
                                        </td>
                                    </tr>
                                    <!-- Returns an error message if there are no available records  -->
                                    <% } } else { %>
                                        <table>
                                            <%= basket.message %>
                                        </table>
                                        <% } %>
                            </tbody>
                        </table>
                        <% if (products && products.length) { %>
                        <a href=<%=`/checkout`%>>
                            <button id="button">Checkout</button>
                        </a>
                        <% } %>
                    </div>
                </div>
            </div>
            <%- include("./partials/footer.ejs", {token}) %>
    </body>

</html>